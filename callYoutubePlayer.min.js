function callPlayer(t,e,n){window.jQuery&&t instanceof jQuery&&(t=t.get(0).id);var a=document.getElementById(t);a&&"IFRAME"!=a.tagName.toUpperCase()&&(a=a.getElementsByTagName("iframe")[0]),callPlayer.queue||(callPlayer.queue={});var l=callPlayer.queue[t],o="complete"==document.readyState;if(o&&!a)window.console&&console.log("callPlayer: Frame not found; id="+t),l&&clearInterval(l.poller);else if("listening"===e)a&&a.contentWindow&&(e='{"event":"listening","id":'+JSON.stringify(""+t)+"}",a.contentWindow.postMessage(e,"*"));else if(l&&l.ready||o&&(!a||a.contentWindow)&&"function"!=typeof e){if(a&&a.contentWindow){if(e.call)return e();a.contentWindow.postMessage(JSON.stringify({event:"command",func:e,args:n||[],id:t}),"*")}}else(l=l||(callPlayer.queue[t]=[])).push([e,n]),"poller"in l||(l.poller=setInterval(function(){callPlayer(t,"listening")},250),i(1,function e(n){if(!a){if(!(a=document.getElementById(t)))return;if("IFRAME"!=a.tagName.toUpperCase()&&!(a=a.getElementsByTagName("iframe")[0]))return}if(n.source===a.contentWindow)for(clearInterval(l.poller),l.ready=!0,i(0,e);tmp=l.shift();)callPlayer(t,tmp[0],tmp[1])}));function i(e,n){var t=e?window.addEventListener:window.removeEventListener;t?t("message",n,!1):(e?window.attachEvent:window.detachEvent)("onmessage",n)}}